<?xml version="1.0" encoding="UTF-8"?>
<ComplexEventRuleActionList xmlns="http://labse.isti.cnr.it/glimpse/xml/ComplexEventRule"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://labse.isti.cnr.it/glimpse/xml/ComplexEventRule ./ComplexEventRule.xsd">
<Insert RuleType="drools">
	<RuleName>Upload time</RuleName>
        <RuleBody>
			import it.cnr.isti.labse.glimpse.event.SimpleEvent;
			import it.cnr.isti.labse.glimpse.manager.ResponseDispatcher;
			import it.cnr.isti.labse.glimpse.settings.DroolsUtils;
			
			declare SimpleEvent
			    @role( event )
			    @timestamp( timestamp )
		    end
		
			rule "monitoringConnectorForLearning"
			no-loop
			salience 999
			dialect "java"
			when
				$aEvent : SimpleEvent(this.getConnectorID == "connector1");
			then
				$aEvent.setConsumed(true);
				ResponseDispatcher.NotifyMe(drools.getRule().getName(),"Learning Module", "Method called: " + $aEvent.getData() + " - NetworkedSystemSource: " + $aEvent.getNetworkedSystemSource());
			end	
        </RuleBody>
    </Insert> 
</ComplexEventRuleActionList>
