        import it.cnr.isti.labsedc.glimpse.event.GlimpseBaseEventChoreos;
        import it.cnr.isti.labsedc.glimpse.manager.ResponseDispatcher;
        import it.cnr.isti.labsedc.glimpse.utils.NotifierUtils;
        import it.cnr.isti.labsedc.glimpse.impl.ServiceLocatorImpl;
		import it.cnr.isti.labsedc.glimpse.impl.RuleTemplateEnum;
        
        declare GlimpseBaseEventChoreos
	        @role( event )
	        @timestamp( timeStamp )
        end
        
       	rule "SERVICE_NAME_3_CHECKSERVICESLAFAILURE3TIMES_SECONDPART"
		no-loop
		salience 1
		dialect "java"
		when
			$total : Number(intValue > 2) 
			from accumulate(
				$aEvent : GlimpseBaseEventChoreos(
					this.getServiceSource == "_SERVICE_FILTER_",
					this.getEventName == "SLA Alert")
			from entry-point "DEFAULT",
			count ($aEvent))
		then
		ResponseDispatcher.LogViolation("RULE",
			"auto_generated_rule",
			"\nSLA violation\noccurred on: SERVICE_NAME fails THREE times, ALERT EVENT RAISED");
	end